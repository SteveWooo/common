{"type":"deploy","content":"{\"type\":\"dir\",\"dirname\":\"modules\",\"path\":\"modules\",\"content\":{\"demo.js\":{\"type\":\"file\",\"filename\":\"demo.js\",\"data\":\"module.exports = {\\r\\n\\tcb : async(swc, task)=>{\\r\\n\\t\\tconsole.log(task.data.message);\\r\\n\\t\\treturn {\\r\\n\\t\\t\\tstatus : \\\"success\\\",\\r\\n\\t\\t\\t// error_message : \\\"\\\",\\r\\n\\t\\t\\ttask_id : task.task_id,\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\"},\"downloadSex.js\":{\"type\":\"file\",\"filename\":\"downloadSex.js\",\"data\":\"const fs =require('fs');\\r\\nconst request = require(\\\"request\\\");\\r\\nconst path = require(\\\"path\\\");\\r\\nfunction downloadFile(options){\\r\\n\\treturn new Promise(resolve=>{\\r\\n\\t\\tvar stream = fs.createWriteStream(options.filename);\\r\\n\\t\\tconsole.log('downloading');\\r\\n    \\trequest({\\r\\n    \\t\\turl : options.src,\\r\\n    \\t\\tproxy : 'http://:@127.0.0.1:1080'\\r\\n    \\t}).pipe(stream).on('close', ()=>{\\r\\n    \\t\\tresolve();\\r\\n    \\t\\tconsole.log('finished');\\r\\n    \\t});\\r\\n\\t})\\r\\n}\\r\\n\\r\\nmodule.exports = {\\r\\n\\trun : async (swc, task)=>{\\r\\n\\t\\tconsole.log(task.data);\\r\\n\\t\\tvar data = task.data;\\r\\n\\t\\tawait downloadFile({\\r\\n\\t\\t\\tsrc : data.src,\\r\\n\\t\\t\\tfilename : `${__dirname}/../../result/${data.filename}`\\r\\n\\t\\t})\\r\\n\\t\\treturn {\\r\\n\\t\\t\\tstatus : \\\"success\\\",\\r\\n\\t\\t\\ttask_id : task.task_id\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\"},\"init_modules.js\":{\"type\":\"file\",\"filename\":\"init_modules.js\",\"data\":\"module.exports = {\\r\\n\\tdemo : require(\\\"./demo\\\"),\\r\\n\\ttest : require(\\\"./test\\\"),\\r\\n\\tdownloadSex : require(\\\"./downloadSex\\\")\\r\\n}\"},\"test.js\":{\"type\":\"file\",\"filename\":\"test.js\",\"data\":\"module.exports = {\\r\\n\\trun : async (swc, task)=>{\\r\\n\\t\\tconsole.log(task.data);\\r\\n\\t\\treturn {\\r\\n\\t\\t\\tstatus : \\\"success\\\",\\r\\n\\t\\t\\ttask_id : task.task_id\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\"}}}","version":"1.0.0","time":1552315334072,"hoster_id":"","sign":""}